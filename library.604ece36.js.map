{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAKOC,eAAeC,EAAaC,GACjC,IAAIC,EAAmB,GAEvB,IAAK,MAAMC,KAAWF,EACpBC,EAAiBE,KAAe,sCAAGD,EAAQE,+CAG7C,MAAMC,EAAS,GACf,IAAIC,EAAc,GAElB,IAAK,MAAMC,KAASN,EAAkB,CACpC,IAAIO,cAAmBC,MAAMF,IAAQG,OACjCC,EAASH,EAAY,OACrBI,EAAgB,GACpBA,EAAcT,QAAQQ,GACtBL,EAAc,IAAIA,KAAgBM,GAClC,IAAIC,EAAY,GAChB,IAAK,MAAMC,KAASH,EAClBE,EAAUV,KAAKW,EAAMV,IAEvBI,EAAe,UAAIK,EACnBR,EAAOF,KAAKK,E,EAEd,EAAAZ,EAAAmB,cAAa,EAAGV,EAAQC,GACxBU,EAAAC,gBAAgBC,UAAY,E,4DC7BVC,SAASC,cAAc,qBAC/BC,iBAAiB,SAAS,KACpCC,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,UACV,ICIJ,MAAMC,EAAkBP,SAASC,cAC/B,kCAEIO,EAAoBR,SAASC,cAAc,iBAC3CQ,EAAkBT,SAASC,cAAc,gBAG/C,IAAIS,EAAgB,CAACC,KAAKC,MAAMC,aAAaC,QAAQ,oBACjDC,EAAe,CAACJ,KAAKC,MAAMC,aAAaC,QAAQ,mBAU7C,SAASE,IACdvC,EAAAwC,QAAQlB,UAAY,GACpBF,EAAAC,gBAAgBC,UAAY,GAC5BmB,G,CAGFvC,eAAeuC,IAUb,GARAV,EAAkBW,UAAUC,IAAI,kBAChCZ,EAAkBW,UAAUE,OAAO,oBACnCxB,EAAAC,gBAAgBC,UAAY,GAC5BU,EAAgBU,UAAUC,IAAI,oBAC9BX,EAAgBU,UAAUE,OAAO,kBAIR,OAArBX,EAAc,IAA2C,IAA5BA,EAAc,GAAGY,OAGhD,OAFAzB,EAAAC,gBAAgBC,UAAY,QAC5BtB,EAAAwC,QAAQlB,UAAY,oEAGpBF,EAAAC,gBAAgBC,UAAY,GAE5BnB,EAAa8B,EAAc,G,CA/B/BjC,EAAAwC,QAAQlB,UAAY,GACpBF,EAAAC,gBAAgBC,UAAY,GAE5BwB,YAAW,KACTP,IACAE,GAAiB,GAChB,KA4CHX,EAAgBL,iBAAiB,QAASc,GAE1CR,EAAkBN,iBAAiB,QAASgB,GAC5CT,EAAgBP,iBAAiB,SAnBjCvB,iBAEE8B,EAAgBU,UAAUC,IAAI,kBAC9BX,EAAgBU,UAAUE,OAAO,oBAEjCb,EAAkBW,UAAUC,IAAI,oBAChCZ,EAAkBW,UAAUE,OAAO,kBAGnC5C,EAAAwC,QAAQlB,UAAY,GACI,OAApBgB,EAAa,IAA0C,IAA3BA,EAAa,GAAGO,OAC9C7C,EAAAwC,QAAQlB,UAAY,kEAEpBnB,EAAamC,EAAa,G","sources":["src/js/library_fetch.js","src/js/scroll_up_button.js","src/js/library_main.js"],"sourcesContent":["import { renderMovies } from './cards_rendering';\nconst api_key = `bf9c4d58b7779ca7f547438ec065a7d2`;\nconst api_url = `https://api.themoviedb.org/3/movie/`;\nimport { paginationPlace } from './pagination';\n\nexport async function fetchLibrary(ids) {\n  let watchedMoviesURL = [];\n  // finding movie\n  for (const movieId of ids) {\n    watchedMoviesURL.push(api_url + `${movieId.id}?api_key=${api_key}`);\n  }\n\n  const movies = [];\n  let genresArray = [];\n\n  for (const movie of watchedMoviesURL) {\n    let res = await (await fetch(movie)).json();\n    let genres = res[`genres`];\n    let newGenreArray = [];\n    newGenreArray.push(...genres);\n    genresArray = [...genresArray, ...newGenreArray];\n    let genresIds = [];\n    for (const genre of genres) {\n      genresIds.push(genre.id);\n    }\n    res['genre_ids'] = genresIds;\n    movies.push(res);\n  }\n  renderMovies(0, movies, genresArray);\n  paginationPlace.innerHTML = '';\n}\n","const scrollUpBtn = document.querySelector('.scroll-up-button');\nscrollUpBtn.addEventListener('click', () => {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n  //window.scrollTo(0, 0);\n});\n","import { fetchLibrary } from './library_fetch';\nimport { paginationPlace } from './pagination';\nimport { gallery } from './cards_rendering';\nimport './open_modal';\nimport './add_to_queue';\nimport './add_to_watched';\nimport './scroll_up_button';\n\n// DOM elements\nconst myLibraryButton = document.querySelector(\n  '.navigation__item:nth-child(2)'\n);\nconst watchedListButton = document.querySelector('[loadWatched]');\nconst queueListButton = document.querySelector('[loadQueued]');\n\n// Local storage\nlet watchedMovies = [JSON.parse(localStorage.getItem('movies-watched'))];\nlet queuedMovies = [JSON.parse(localStorage.getItem('movies-queued'))];\n\ngallery.innerHTML = '';\npaginationPlace.innerHTML = '';\n\nsetTimeout(() => {\n  loadLibrary();\n  loadWatchedList();\n}, 500);\n\nexport function loadLibrary() {\n  gallery.innerHTML = '';\n  paginationPlace.innerHTML = '';\n  loadWatchedList();\n}\n\nasync function loadWatchedList() {\n  // button's visual changes\n  watchedListButton.classList.add('button--active');\n  watchedListButton.classList.remove('button--inactive');\n  paginationPlace.innerHTML = '';\n  queueListButton.classList.add('button--inactive');\n  queueListButton.classList.remove('button--active');\n\n  // change showed movies\n\n  if (watchedMovies[0] === null || watchedMovies[0].length === 0) {\n    paginationPlace.innerHTML = '';\n    gallery.innerHTML = `<h2 class=\"warning\">You don't have any watched movies yet!</h2>`;\n    return;\n  } else {\n    paginationPlace.innerHTML = '';\n\n    fetchLibrary(watchedMovies[0]);\n  }\n}\nasync function loadQueueList() {\n  // button's visual changes\n  queueListButton.classList.add('button--active');\n  queueListButton.classList.remove('button--inactive');\n\n  watchedListButton.classList.add('button--inactive');\n  watchedListButton.classList.remove('button--active');\n\n  // change showed movies\n  gallery.innerHTML = '';\n  if (queuedMovies[0] === null || queuedMovies[0].length === 0) {\n    gallery.innerHTML = `<h2 class=\"warning\">You don't have any queued movies yet!</h2>`;\n  } else {\n    fetchLibrary(queuedMovies[0]);\n  }\n}\nmyLibraryButton.addEventListener('click', loadLibrary);\n\nwatchedListButton.addEventListener('click', loadWatchedList);\nqueueListButton.addEventListener('click', loadQueueList);\n"],"names":["$d96cH","parcelRequire","async","$72976d1174c36c4a$export$3da1c33d77833b0c","ids","watchedMoviesURL","movieId","push","id","movies","genresArray","movie","res","fetch","json","genres","newGenreArray","genresIds","genre","renderMovies","$2nhTy","paginationPlace","innerHTML","document","querySelector","addEventListener","window","scrollTo","top","behavior","$79aba5f329ef8862$var$myLibraryButton","$79aba5f329ef8862$var$watchedListButton","$79aba5f329ef8862$var$queueListButton","$79aba5f329ef8862$var$watchedMovies","JSON","parse","localStorage","getItem","$79aba5f329ef8862$var$queuedMovies","$79aba5f329ef8862$export$826c32731ceb1c03","gallery","$79aba5f329ef8862$var$loadWatchedList","classList","add","remove","length","setTimeout"],"version":3,"file":"library.604ece36.js.map"}